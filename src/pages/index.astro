---
import BaseLayout from '../layouts/BaseLayout.astro'
import IntroCard from '../components/sections/IntroCard.astro'
import AboutMe from '../components/sections/AboutMe.astro'
import Card from '../components/Card.astro'
import TimeZoneCard from '../components/sections/TimeZoneCard.astro'
import ContactsCard from '../components/sections/ContactsCard.astro'
import Now from '../components/sections/Now.astro'
import CVCard from '../components/sections/CVCard.astro'
import ExperienceCard from '../components/sections/ExperienceCard.astro'
import StudyCard from '../components/sections/StudyCard.astro'
//
---

<script>
  import { stagger, spring, timeline, type TimelineDefinition } from 'motion'
  import { loaderAnimation } from '../lib/constants'

  const cards = document.querySelectorAll('.card-animate')

  const sequence = [
    loaderAnimation,
    [
      cards,
      { y: ['40%', '0%'], opacity: [0, 1] },
      {
        at: '-0.1',
        duration: 0.4,
        delay: stagger(0.3),
        easing: spring({ velocity: 100, stiffness: 50, damping: 10 }),
      },
    ],
  ]

  timeline(sequence as TimelineDefinition)
</script>

<BaseLayout
  title="Kevin Luciano - Desarrollador Full Stack"
  description="Kevin Luciano - Desarrollador Full Stack - Portafolio, Proyectos, CV, Sobre Mí, Contacto, Zona Horaria, Ahora, Experiencia, Estudios"
>
  <div
    slot="loader"
    class="loader bg-darkslate-700 fixed bottom-0 left-0 right-0 top-0 z-50 flex h-screen w-screen items-center justify-center text-3xl font-black uppercase text-neutral-50"
  >
  </div>
  <main
    class="relative m-auto grid w-full max-w-6xl grid-cols-1 grid-rows-[auto,auto,auto,auto] gap-4
      overflow-hidden p-4
      md:grid-cols-3 md:grid-rows-[auto,auto,auto,auto]"
  >
    {/* Fila 1: Hero - IntroCard ocupa toda la fila */}
    <div class="md:col-span-3">
      <IntroCard />
    </div>
    {/* Fila 2: CV, Ahora, Portafolio */}
    <CVCard />
    <Now />
    <Card title="Portafolio y Proyectos" href="/portfolio" />
    {/* Fila 3: Experiencia (2 filas), Sobre mí, Estudios + Frase */}
    <div class="flex h-full flex-col md:row-span-2">
      <ExperienceCard />
    </div>
    <AboutMe />
    <div class="flex flex-col gap-4">
      <StudyCard />
      <Card>
        <div class="flex h-full flex-col justify-between">
          <blockquote class="mt-6 border-l-2 pl-6 italic">
            "La tecnología siempre ha sido una herramienta clave para
            transformar el aprendizaje."
          </blockquote>
          <p class="mt-2 text-xs">- Kevin Luciano</p>
        </div>
      </Card>
    </div>
    {/* Fila 4: Zona horaria y Contacto juntos */}
    <div class="flex flex-col gap-4 md:col-span-2 md:flex-row">
      <div class="min-w-0 flex-1">
        <TimeZoneCard />
      </div>
      <div class="min-w-0 flex-1">
        <ContactsCard />
      </div>
    </div>
  </main>
</BaseLayout>
