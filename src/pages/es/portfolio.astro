---
import { PROJECTS_DATA } from '../../lib/constants'
import BaseLayout from '../../layouts/BaseLayout.astro'
import ProjectCard from '../../components/ProjectCard.astro'
import { getLangFromUrl, useTranslations } from '../../lib/i18n'
import { ui } from '../../i18n/ui'

const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
---

<BaseLayout title={t('projects.title')} description={t('projects.description')}>
  <main class="mx-auto w-full max-w-6xl p-4">
    <h1 class="text-3xl font-bold">
      {t('projects.title')}
    </h1>

    <p class="text-muted-foreground">
      {t('projects.description')}
    </p>

    <div
      class="mt-8
        grid
        justify-items-stretch
        gap-6
        [grid-template-columns:repeat(auto-fit,minmax(320px,1fr))]"
    >
      {
        PROJECTS_DATA.map((project) => (
          <div class="h-full w-full">
            <ProjectCard
              heading={project.name[lang]}
              subheading={project.description[lang]}
              imagePath={project.image}
              altText={project.name[lang]}
              tags={project.tags}
              githubUrl={project.githubUrl}
              liveUrl={project.liveUrl}
              projectId={project.id}
            />
          </div>
        ))
      }
    </div>
  </main>
</BaseLayout>
